<section class="artist-detail">
  <h1>{{ artist.artist_name }}</h1>

  {% if artist.spotify and artist.spotify.available and artist.spotify.embed_url %}
    <div class="spotify-embed-container" style="position:relative;width:100%;max-width:420px;margin:0 auto;">
      <iframe
        src="{{ artist.spotify.embed_url }}"
        width="100%"
        height="152"
        style="border:0;border-radius:12px;min-height:152px;"
        allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
        loading="lazy"
        title="Spotify player for {{ artist.spotify.track_name }}">
      </iframe>
      <p style="font-size:0.875rem;margin-top:0.5rem;">Now playing suggestion: {{ artist.spotify.track_name }}</p>
    </div>
  {% else %}
    <div class="spotify-unavailable" role="status" aria-live="polite">
      <p>Track unavailable for this artist right now.</p>
    </div>
  {% endif %}
</section>
{% extends 'base.html' %}

{% block title %}{{ artist.name }} | Artist Timetable{% endblock %}

{% block content %}
<article class="detail-card">
  <p><a href="{{ url_for('artist_list') }}">← Back to artists</a></p>
  <h2>{{ artist.name }}</h2>
  <p class="meta">{{ artist.genre }} • {{ artist.performance_date.strftime('%b %d, %Y') }}</p>
  <p>{{ artist.bio }}</p>

  <h3>Listen on Spotify</h3>
  <div class="embed-wrap">
    <iframe
      title="Spotify player for {{ artist.name }}"
      src="{{ artist.spotify_embed_url }}"
      width="100%"
      height="152"
      frameborder="0"
      allowfullscreen=""
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy"
    ></iframe>
  </div>
</article>
{% endblock %}
